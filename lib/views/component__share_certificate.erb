<% unless defined?(custom_print) %>
  <div class="component__print govuk-!-display-none-print">

    <h2 class="govuk-heading-m">Share this certificate</h2>

    <ul style="list-style-type: none; padding: 0; margin: 0;">
      <li>
        <p gov-body >
          <a style="text-decoration: none;" href="mailto:?subject=<%= t("#{top_heading}.top_heading")%> for <%=assessment[:address][:addressLine1]%>&amp;body=Please find your <%= t("#{top_heading}.top_heading")%> at https://find-energy-certificate.digital.communities.gov.uk/energy-certificate/<%=assessment[:assessmentId]%>"
             title="Email">
          <span style="padding-top: 5px; padding-right: 5px; padding-bottom: 5px;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope-open" viewBox="0 0 16 16">
              <path d="M8.47 1.318a1 1 0 0 0-.94 0l-6 3.2A1 1 0 0 0 1 5.4v.818l5.724 3.465L8 8.917l1.276.766L15 6.218V5.4a1 1 0 0 0-.53-.882l-6-3.2zM15 7.388l-4.754 2.877L15 13.117v-5.73zm-.035 6.874L8 10.083l-6.965 4.18A1 1 0 0 0 2 15h12a1 1 0 0 0 .965-.738zM1 13.117l4.754-2.852L1 7.387v5.73zM7.059.435a2 2 0 0 1 1.882 0l6 3.2A2 2 0 0 1 16 5.4V14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V5.4a2 2 0 0 1 1.059-1.765l6-3.2z"/>
            </svg>
          </span>
            Email
          </a>
        </p>
      </li>
      <li>
        <p gov-body style="margin-bottom: 0px;">
          <button id="copyToClipboardButton" href="" style="text-decoration: none; border: none; padding: 0px; outline: none; color: #1d70b8; background-color: white;" class="govuk-body" onclick="click_handler()">
          <span style="padding-top: 5px; padding-right: 5px;">

            <svg id="clipboard" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
              <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
              <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
            </svg>

          </span>
          Copy link
          </button>
        </p>
      </li>
      <li>
        <p>
          <a onclick="window.print();return false;"
             id="link"
             href="#"
             style="text-decoration: none;"
          >
          <span style="padding-top: 5px; padding-right: 5px; padding-bottom: 5px; margin-top: 0px;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-printer" viewBox="0 0 16 16">
              <path d="M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"/>
              <path d="M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"/>
            </svg>
          </span>
            Print
          </a>
        </p>

        <noscript>
        <p class="govuk-body"><%= t("component.print.#{type}.noscript_text", type: type) %></p>
        </noscript>

      </li>
    </ul>
  </div>
  <script>
    function click_handler(){
      copy_to_clipboard();
      change_text_and_icon_animation();
    }

    function copy_to_clipboard() {
      let input = document.body.appendChild(document.createElement("input"));
      input.value = window.location.href;
      input.select();
      document.execCommand("copy");
      input.parentNode.removeChild(input);
    }

    function change_text_and_icon_animation() {

      let text = document.getElementById('copyToClipboardButton');
      let original_text = text.innerHTML;

      text.innerHTML = `<span style="padding-top: 5px; padding-right: 5px; padding-bottom: 5px;">
        <svg id="tick" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check2" viewBox="0 0 16 16">
        <path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/>
      </svg> </span> Copied!`;

      setTimeout(function() { text.innerHTML = original_text }, 5000);
    }
  </script>
<% end %>
